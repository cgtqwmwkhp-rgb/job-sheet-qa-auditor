{
  "$schema": "./thresholds.schema.json",
  "version": "2.0.0",
  "description": "Parity threshold governance configuration - applies to POSITIVE suite only",
  "thresholds": {
    "overall": {
      "minPassRate": 1.0,
      "maxWorseCount": 0,
      "maxNewFailures": 0,
      "description": "Positive suite must maintain 100% pass rate with no regressions"
    },
    "bySeverity": {
      "S0": {
        "minPassRate": 1.0,
        "maxWorseCount": 0,
        "description": "Critical fields must have 100% pass rate in positive suite"
      },
      "S1": {
        "minPassRate": 1.0,
        "maxWorseCount": 0,
        "description": "Major fields must have 100% pass rate in positive suite"
      },
      "S2": {
        "minPassRate": 1.0,
        "maxWorseCount": 0,
        "description": "Minor fields must have 100% pass rate in positive suite"
      },
      "S3": {
        "minPassRate": 1.0,
        "maxWorseCount": 0,
        "description": "Info fields must have 100% pass rate in positive suite"
      }
    }
  },
  "negativeSuite": {
    "description": "Negative suite validates that expected failures are correctly detected",
    "requireAllExpectedFailures": true,
    "allowUnexpectedFailures": false
  },
  "alerts": {
    "warnOnImprovement": true,
    "warnOnNewFields": true,
    "failOnRegression": true,
    "failOnMissingBaseline": false
  },
  "ci": {
    "prSubsetDocIds": ["doc-001", "doc-002", "doc-004"],
    "nightlyFullSuite": true,
    "artifactRetentionDays": 30,
    "summaryFormat": "markdown"
  },
  "governance": {
    "requireApprovalForThresholdChange": true,
    "approvers": ["@qa-team", "@tech-lead"],
    "changeLogRequired": true
  },
  "canonicalReasonCodes": [
    "VALID",
    "MISSING_FIELD",
    "UNREADABLE_FIELD",
    "LOW_CONFIDENCE",
    "INVALID_FORMAT",
    "CONFLICT",
    "OUT_OF_POLICY",
    "INCOMPLETE_EVIDENCE",
    "OCR_FAILURE",
    "PIPELINE_ERROR",
    "SPEC_GAP",
    "SECURITY_RISK"
  ],
  "legacyCodeMappings": {
    "MISSING_CRITICAL_FIELD": "MISSING_FIELD",
    "INSUFFICIENT_DETAIL": "INCOMPLETE_EVIDENCE",
    "OUT_OF_RANGE": "OUT_OF_POLICY",
    "RANGE_ERROR": "OUT_OF_POLICY",
    "POLICY_VIOLATION": "OUT_OF_POLICY",
    "FIELD_MISSING": "MISSING_FIELD",
    "MISSING_EVIDENCE": "INCOMPLETE_EVIDENCE",
    "EXTRACTION_FAILED": "OCR_FAILURE",
    "UNREADABLE": "UNREADABLE_FIELD"
  }
}
